<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
{% include "navbar.html" with context %}
<div class="container">
     <table class="table table-striped table-bordered align-middle">
      <thead class="table-light">
        <tr>
          <th>Route</th>
          <th>Destination</th>
          <th>Arrives In</th>
          <th>Train ID</th>
          <th>Trip</th>
        </tr>
      </thead>
         <tbody>
            {% for stop in trip%}
            <tr>
                <td>{{stop.stop_sequence}}</td>
                <td>{{stop.arrival_time}}</td>
                <td>{{stop.id}}</td>
            </tr>
            {% endfor %}
         </tbody>
    </table>
</div>


<footer>
    `<script>
    window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/speed-insights/script.js"></script>

    <script>
    window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>`
</footer>
<script>
function to12Hour(time24) {
    if (!time24 || !time24.includes(":")) return time24;

    const [h, m] = time24.split(":");
    let hour = parseInt(h, 10);
    const ampm = hour >= 12 ? "PM" : "AM";
    hour = hour % 12 || 12;
    return `${hour}:${m} ${ampm}`;
}

// Convert ONLY the Arrival Time column (2nd column)
document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll("tbody tr td:nth-child(2)").forEach(td => {
        td.textContent = to12Hour(td.textContent.trim());
    });
});
</script>
</body>
</html>